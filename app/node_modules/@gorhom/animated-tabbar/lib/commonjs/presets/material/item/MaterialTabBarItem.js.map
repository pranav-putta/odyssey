{"version":3,"sources":["MaterialTabBarItem.tsx"],"names":["interpolate","divide","Extrapolate","Animated","MaterialTabBarItemComponent","props","animatedFocus","animation","inactiveOpacity","inactiveScale","label","labelStyle","labelStyleOverride","icon","iconSize","itemInnerSpace","itemOuterSpace","itemInnerVerticalSpace","itemInnerHorizontalSpace","itemOuterVerticalSpace","itemOuterHorizontalSpace","_itemInnerVerticalSpace","_itemInnerHorizontalSpace","_itemOuterVerticalSpace","_itemOuterHorizontalSpace","vertical","DEFAULT_ITEM_INNER_SPACE","horizontal","DEFAULT_ITEM_OUTER_SPACE","labelHeight","outerContainerStyle","styles","outerContainer","paddingHorizontal","paddingVertical","innerContainerStyle","innerContainer","opacity","inputRange","outputRange","extrapolate","CLAMP","transform","x","y","scale","iconContainerStyle","iconContainer","minHeight","minWidth","translateY","marginTop","handleLabelLayout","nativeEvent","layout","height","requestAnimationFrame","setValue","renderIcon","IconComponent","component","color","size","renderLabel","MaterialTabBarItem","isEqual"],"mappings":"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","sourcesContent":["import React, { useMemo, memo, useCallback } from 'react';\nimport type { LayoutChangeEvent } from 'react-native';\nimport Animated from 'react-native-reanimated';\nimport { transformOrigin, useValue } from 'react-native-redash';\n// @ts-ignore ðŸ˜ž\nimport isEqual from 'lodash.isequal';\nimport { useStableCallback } from '../../../utilities';\nimport {\n  DEFAULT_ITEM_INNER_SPACE,\n  DEFAULT_ITEM_OUTER_SPACE,\n} from '../constants';\nimport type { MaterialTabBarItemProps } from '../types';\nimport { styles } from './styles';\n\nconst { interpolate, divide, Extrapolate } = Animated;\n\nconst MaterialTabBarItemComponent = (props: MaterialTabBarItemProps) => {\n  // props\n  const {\n    animatedFocus,\n    animation,\n    inactiveOpacity,\n    inactiveScale,\n    label,\n    labelStyle: labelStyleOverride,\n    icon,\n    iconSize,\n    itemInnerSpace,\n    itemOuterSpace,\n  } = props;\n\n  //#region extract props\n  const {\n    itemInnerVerticalSpace,\n    itemInnerHorizontalSpace,\n    itemOuterVerticalSpace,\n    itemOuterHorizontalSpace,\n  } = useMemo(() => {\n    let _itemInnerVerticalSpace,\n      _itemInnerHorizontalSpace,\n      _itemOuterVerticalSpace,\n      _itemOuterHorizontalSpace = 0;\n\n    if (typeof itemInnerSpace === 'number') {\n      _itemInnerVerticalSpace = itemInnerSpace;\n      _itemInnerHorizontalSpace = itemInnerSpace;\n    } else {\n      _itemInnerVerticalSpace =\n        itemInnerSpace?.vertical ?? DEFAULT_ITEM_INNER_SPACE;\n      _itemInnerHorizontalSpace =\n        itemInnerSpace?.horizontal ?? DEFAULT_ITEM_INNER_SPACE;\n    }\n    if (typeof itemOuterSpace === 'number') {\n      _itemOuterVerticalSpace = itemOuterSpace;\n      _itemOuterHorizontalSpace = itemOuterSpace;\n    } else {\n      _itemOuterVerticalSpace =\n        itemOuterSpace?.vertical ?? DEFAULT_ITEM_OUTER_SPACE;\n      _itemOuterHorizontalSpace =\n        itemOuterSpace?.horizontal ?? DEFAULT_ITEM_OUTER_SPACE;\n    }\n    return {\n      itemInnerVerticalSpace: _itemInnerVerticalSpace,\n      itemInnerHorizontalSpace: _itemInnerHorizontalSpace,\n      itemOuterVerticalSpace: _itemOuterVerticalSpace,\n      itemOuterHorizontalSpace: _itemOuterHorizontalSpace,\n    };\n  }, [itemInnerSpace, itemOuterSpace]);\n  //#endregion\n\n  //#region variables\n  const labelHeight = useValue<number>(0);\n  //#endregion\n\n  //#region styles\n  const outerContainerStyle = useMemo(\n    () => [\n      styles.outerContainer,\n      {\n        paddingHorizontal: itemOuterHorizontalSpace,\n        paddingVertical: itemOuterVerticalSpace,\n      },\n    ],\n    [itemOuterHorizontalSpace, itemOuterVerticalSpace]\n  );\n  const innerContainerStyle = useMemo(\n    () => [\n      styles.innerContainer,\n      {\n        paddingHorizontal: itemInnerHorizontalSpace,\n        paddingVertical: itemInnerVerticalSpace,\n        opacity: interpolate(animatedFocus, {\n          inputRange: [0, 1],\n          outputRange: [inactiveOpacity, 1],\n          extrapolate: Extrapolate.CLAMP,\n        }),\n        transform: transformOrigin(\n          {\n            x: 0,\n            y: 0,\n          },\n          {\n            scale: interpolate(animatedFocus, {\n              inputRange: [0, 1],\n              outputRange: [inactiveScale, 1],\n              extrapolate: Extrapolate.CLAMP,\n            }),\n          }\n        ),\n      },\n    ],\n    [\n      itemInnerHorizontalSpace,\n      itemInnerVerticalSpace,\n      animatedFocus,\n      inactiveOpacity,\n      inactiveScale,\n    ]\n  );\n  const iconContainerStyle = [\n    styles.iconContainer,\n    {\n      minHeight: iconSize,\n      minWidth: iconSize,\n      ...(animation === 'iconWithLabelOnFocus'\n        ? {\n            transform: transformOrigin(\n              {\n                x: 0,\n                y: 0,\n              },\n              {\n                translateY: interpolate(animatedFocus, {\n                  inputRange: [0, 1],\n                  outputRange: [divide(labelHeight, 2), 0],\n                  extrapolate: Extrapolate.CLAMP,\n                }),\n              }\n            ),\n          }\n        : {}),\n    },\n  ];\n  const labelStyle = useMemo(\n    () => [\n      styles.label,\n      labelStyleOverride,\n      {\n        marginTop: itemInnerVerticalSpace / 2,\n        opacity: animation === 'iconWithLabelOnFocus' ? animatedFocus : 1,\n      },\n    ],\n    [labelStyleOverride, itemInnerVerticalSpace, animation, animatedFocus]\n  );\n  //#endregion\n\n  //#region callbacks\n  const handleLabelLayout = useStableCallback(\n    ({\n      nativeEvent: {\n        layout: { height },\n      },\n    }: LayoutChangeEvent) =>\n      requestAnimationFrame(() => {\n        labelHeight.setValue(height);\n      })\n  );\n  //#endregion\n\n  // render\n  const renderIcon = useCallback(() => {\n    const IconComponent: any = icon.component;\n    return typeof IconComponent === 'function' ? (\n      IconComponent({\n        animatedFocus,\n        color: icon.color,\n        size: iconSize,\n      })\n    ) : (\n      <IconComponent\n        animatedFocus={animatedFocus}\n        color={icon.color}\n        size={iconSize}\n      />\n    );\n  }, [icon, iconSize, animatedFocus]);\n  const renderLabel = useCallback(() => {\n    return animation !== 'iconOnly' ? (\n      <Animated.Text onLayout={handleLabelLayout} style={labelStyle}>\n        {label}\n      </Animated.Text>\n    ) : null;\n  }, [label, animation, labelStyle, handleLabelLayout]);\n  return (\n    <Animated.View style={outerContainerStyle}>\n      <Animated.View style={innerContainerStyle}>\n        <Animated.View style={iconContainerStyle}>{renderIcon()}</Animated.View>\n        {renderLabel()}\n      </Animated.View>\n    </Animated.View>\n  );\n};\n\nconst MaterialTabBarItem = memo(MaterialTabBarItemComponent, isEqual);\n\nexport default MaterialTabBarItem;\n"]}