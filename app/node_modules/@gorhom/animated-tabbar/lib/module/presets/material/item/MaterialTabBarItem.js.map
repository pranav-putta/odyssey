{"version":3,"sources":["MaterialTabBarItem.tsx"],"names":["React","useMemo","memo","useCallback","Animated","transformOrigin","useValue","isEqual","useStableCallback","DEFAULT_ITEM_INNER_SPACE","DEFAULT_ITEM_OUTER_SPACE","styles","interpolate","divide","Extrapolate","MaterialTabBarItemComponent","props","animatedFocus","animation","inactiveOpacity","inactiveScale","label","labelStyle","labelStyleOverride","icon","iconSize","itemInnerSpace","itemOuterSpace","itemInnerVerticalSpace","itemInnerHorizontalSpace","itemOuterVerticalSpace","itemOuterHorizontalSpace","_itemInnerVerticalSpace","_itemInnerHorizontalSpace","_itemOuterVerticalSpace","_itemOuterHorizontalSpace","vertical","horizontal","labelHeight","outerContainerStyle","outerContainer","paddingHorizontal","paddingVertical","innerContainerStyle","innerContainer","opacity","inputRange","outputRange","extrapolate","CLAMP","transform","x","y","scale","iconContainerStyle","iconContainer","minHeight","minWidth","translateY","marginTop","handleLabelLayout","nativeEvent","layout","height","requestAnimationFrame","setValue","renderIcon","IconComponent","component","color","size","renderLabel","MaterialTabBarItem"],"mappings":"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","sourcesContent":["import React, { useMemo, memo, useCallback } from 'react';\nimport type { LayoutChangeEvent } from 'react-native';\nimport Animated from 'react-native-reanimated';\nimport { transformOrigin, useValue } from 'react-native-redash';\n// @ts-ignore ðŸ˜ž\nimport isEqual from 'lodash.isequal';\nimport { useStableCallback } from '../../../utilities';\nimport {\n  DEFAULT_ITEM_INNER_SPACE,\n  DEFAULT_ITEM_OUTER_SPACE,\n} from '../constants';\nimport type { MaterialTabBarItemProps } from '../types';\nimport { styles } from './styles';\n\nconst { interpolate, divide, Extrapolate } = Animated;\n\nconst MaterialTabBarItemComponent = (props: MaterialTabBarItemProps) => {\n  // props\n  const {\n    animatedFocus,\n    animation,\n    inactiveOpacity,\n    inactiveScale,\n    label,\n    labelStyle: labelStyleOverride,\n    icon,\n    iconSize,\n    itemInnerSpace,\n    itemOuterSpace,\n  } = props;\n\n  //#region extract props\n  const {\n    itemInnerVerticalSpace,\n    itemInnerHorizontalSpace,\n    itemOuterVerticalSpace,\n    itemOuterHorizontalSpace,\n  } = useMemo(() => {\n    let _itemInnerVerticalSpace,\n      _itemInnerHorizontalSpace,\n      _itemOuterVerticalSpace,\n      _itemOuterHorizontalSpace = 0;\n\n    if (typeof itemInnerSpace === 'number') {\n      _itemInnerVerticalSpace = itemInnerSpace;\n      _itemInnerHorizontalSpace = itemInnerSpace;\n    } else {\n      _itemInnerVerticalSpace =\n        itemInnerSpace?.vertical ?? DEFAULT_ITEM_INNER_SPACE;\n      _itemInnerHorizontalSpace =\n        itemInnerSpace?.horizontal ?? DEFAULT_ITEM_INNER_SPACE;\n    }\n    if (typeof itemOuterSpace === 'number') {\n      _itemOuterVerticalSpace = itemOuterSpace;\n      _itemOuterHorizontalSpace = itemOuterSpace;\n    } else {\n      _itemOuterVerticalSpace =\n        itemOuterSpace?.vertical ?? DEFAULT_ITEM_OUTER_SPACE;\n      _itemOuterHorizontalSpace =\n        itemOuterSpace?.horizontal ?? DEFAULT_ITEM_OUTER_SPACE;\n    }\n    return {\n      itemInnerVerticalSpace: _itemInnerVerticalSpace,\n      itemInnerHorizontalSpace: _itemInnerHorizontalSpace,\n      itemOuterVerticalSpace: _itemOuterVerticalSpace,\n      itemOuterHorizontalSpace: _itemOuterHorizontalSpace,\n    };\n  }, [itemInnerSpace, itemOuterSpace]);\n  //#endregion\n\n  //#region variables\n  const labelHeight = useValue<number>(0);\n  //#endregion\n\n  //#region styles\n  const outerContainerStyle = useMemo(\n    () => [\n      styles.outerContainer,\n      {\n        paddingHorizontal: itemOuterHorizontalSpace,\n        paddingVertical: itemOuterVerticalSpace,\n      },\n    ],\n    [itemOuterHorizontalSpace, itemOuterVerticalSpace]\n  );\n  const innerContainerStyle = useMemo(\n    () => [\n      styles.innerContainer,\n      {\n        paddingHorizontal: itemInnerHorizontalSpace,\n        paddingVertical: itemInnerVerticalSpace,\n        opacity: interpolate(animatedFocus, {\n          inputRange: [0, 1],\n          outputRange: [inactiveOpacity, 1],\n          extrapolate: Extrapolate.CLAMP,\n        }),\n        transform: transformOrigin(\n          {\n            x: 0,\n            y: 0,\n          },\n          {\n            scale: interpolate(animatedFocus, {\n              inputRange: [0, 1],\n              outputRange: [inactiveScale, 1],\n              extrapolate: Extrapolate.CLAMP,\n            }),\n          }\n        ),\n      },\n    ],\n    [\n      itemInnerHorizontalSpace,\n      itemInnerVerticalSpace,\n      animatedFocus,\n      inactiveOpacity,\n      inactiveScale,\n    ]\n  );\n  const iconContainerStyle = [\n    styles.iconContainer,\n    {\n      minHeight: iconSize,\n      minWidth: iconSize,\n      ...(animation === 'iconWithLabelOnFocus'\n        ? {\n            transform: transformOrigin(\n              {\n                x: 0,\n                y: 0,\n              },\n              {\n                translateY: interpolate(animatedFocus, {\n                  inputRange: [0, 1],\n                  outputRange: [divide(labelHeight, 2), 0],\n                  extrapolate: Extrapolate.CLAMP,\n                }),\n              }\n            ),\n          }\n        : {}),\n    },\n  ];\n  const labelStyle = useMemo(\n    () => [\n      styles.label,\n      labelStyleOverride,\n      {\n        marginTop: itemInnerVerticalSpace / 2,\n        opacity: animation === 'iconWithLabelOnFocus' ? animatedFocus : 1,\n      },\n    ],\n    [labelStyleOverride, itemInnerVerticalSpace, animation, animatedFocus]\n  );\n  //#endregion\n\n  //#region callbacks\n  const handleLabelLayout = useStableCallback(\n    ({\n      nativeEvent: {\n        layout: { height },\n      },\n    }: LayoutChangeEvent) =>\n      requestAnimationFrame(() => {\n        labelHeight.setValue(height);\n      })\n  );\n  //#endregion\n\n  // render\n  const renderIcon = useCallback(() => {\n    const IconComponent: any = icon.component;\n    return typeof IconComponent === 'function' ? (\n      IconComponent({\n        animatedFocus,\n        color: icon.color,\n        size: iconSize,\n      })\n    ) : (\n      <IconComponent\n        animatedFocus={animatedFocus}\n        color={icon.color}\n        size={iconSize}\n      />\n    );\n  }, [icon, iconSize, animatedFocus]);\n  const renderLabel = useCallback(() => {\n    return animation !== 'iconOnly' ? (\n      <Animated.Text onLayout={handleLabelLayout} style={labelStyle}>\n        {label}\n      </Animated.Text>\n    ) : null;\n  }, [label, animation, labelStyle, handleLabelLayout]);\n  return (\n    <Animated.View style={outerContainerStyle}>\n      <Animated.View style={innerContainerStyle}>\n        <Animated.View style={iconContainerStyle}>{renderIcon()}</Animated.View>\n        {renderLabel()}\n      </Animated.View>\n    </Animated.View>\n  );\n};\n\nconst MaterialTabBarItem = memo(MaterialTabBarItemComponent, isEqual);\n\nexport default MaterialTabBarItem;\n"]}